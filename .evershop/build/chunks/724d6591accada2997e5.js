"use strict";(self["webpackChunkawa"]=self["webpackChunkawa"]||[]).push([[955],{68955:(t,e,n)=>{n.d(e,{Swappable:()=>Xn});class r{constructor(t){this._canceled=false;this.data=t}get type(){return this.constructor.type}get cancelable(){return this.constructor.cancelable}cancel(){this._canceled=true}canceled(){return this._canceled}clone(t){return new this.constructor({...this.data,...t})}}r.type="event";r.cancelable=false;const s={mouse:0,drag:0,touch:100};class i{constructor(t=[],e={}){this.containers=[...t];this.options={...e};this.dragging=false;this.currentContainer=null;this.originalSource=null;this.startEvent=null;this.delay=o(e.delay)}attach(){return this}detach(){return this}addContainer(...t){this.containers=[...this.containers,...t]}removeContainer(...t){this.containers=this.containers.filter((e=>!t.includes(e)))}trigger(t,e){const n=document.createEvent("Event");n.detail=e;n.initEvent(e.type,true,true);t.dispatchEvent(n);this.lastEvent=e;return e}}function o(t){const e={};if(t===undefined){return{...s}}if(typeof t==="number"){for(const n in s){if(Object.prototype.hasOwnProperty.call(s,n)){e[n]=t}}return e}for(const n in s){if(Object.prototype.hasOwnProperty.call(s,n)){if(t[n]===undefined){e[n]=s[n]}else{e[n]=t[n]}}}return e}function a(t,e){if(t==null){return null}function n(t){if(t==null||e==null){return false}else if(l(e)){return Element.prototype.matches.call(t,e)}else if(c(e)){return[...e].includes(t)}else if(h(e)){return e===t}else if(d(e)){return e(t)}else{return false}}let r=t;do{r=r.correspondingUseElement||r.correspondingElement||r;if(n(r)){return r}r=r?.parentNode||null}while(r!=null&&r!==document.body&&r!==document);return null}function l(t){return Boolean(typeof t==="string")}function c(t){return Boolean(t instanceof NodeList||t instanceof Array)}function h(t){return Boolean(t instanceof Node)}function d(t){return Boolean(typeof t==="function")}function u(t,e,n,r){return Math.sqrt((n-t)**2+(r-e)**2)}class g extends r{get originalEvent(){return this.data.originalEvent}get clientX(){return this.data.clientX}get clientY(){return this.data.clientY}get target(){return this.data.target}get container(){return this.data.container}get originalSource(){return this.data.originalSource}get pressure(){return this.data.pressure}}class m extends g{}m.type="drag:start";class p extends g{}p.type="drag:move";class f extends g{}f.type="drag:stop";class v extends g{}v.type="drag:pressure";const b=Symbol("onContextMenuWhileDragging");const E=Symbol("onMouseDown");const y=Symbol("onMouseMove");const C=Symbol("onMouseUp");const S=Symbol("startDrag");const w=Symbol("onDistanceChange");class x extends i{constructor(t=[],e={}){super(t,e);this.mouseDownTimeout=null;this.pageX=null;this.pageY=null;this[b]=this[b].bind(this);this[E]=this[E].bind(this);this[y]=this[y].bind(this);this[C]=this[C].bind(this);this[S]=this[S].bind(this);this[w]=this[w].bind(this)}attach(){document.addEventListener("mousedown",this[E],true)}detach(){document.removeEventListener("mousedown",this[E],true)}[E](t){if(t.button!==0||t.ctrlKey||t.metaKey){return}const e=a(t.target,this.containers);if(!e){return}if(this.options.handle&&t.target&&!a(t.target,this.options.handle)){return}const n=a(t.target,this.options.draggable);if(!n){return}const{delay:r}=this;const{pageX:s,pageY:i}=t;Object.assign(this,{pageX:s,pageY:i});this.onMouseDownAt=Date.now();this.startEvent=t;this.currentContainer=e;this.originalSource=n;document.addEventListener("mouseup",this[C]);document.addEventListener("dragstart",D);document.addEventListener("mousemove",this[w]);this.mouseDownTimeout=window.setTimeout((()=>{this[w]({pageX:this.pageX,pageY:this.pageY})}),r.mouse)}[S](){const t=this.startEvent;const e=this.currentContainer;const n=this.originalSource;const r=new m({clientX:t.clientX,clientY:t.clientY,target:t.target,container:e,originalSource:n,originalEvent:t});this.trigger(this.currentContainer,r);this.dragging=!r.canceled();if(this.dragging){document.addEventListener("contextmenu",this[b],true);document.addEventListener("mousemove",this[y])}}[w](t){const{pageX:e,pageY:n}=t;const{distance:r}=this.options;const{startEvent:s,delay:i}=this;Object.assign(this,{pageX:e,pageY:n});if(!this.currentContainer){return}const o=Date.now()-this.onMouseDownAt;const a=u(s.pageX,s.pageY,e,n)||0;clearTimeout(this.mouseDownTimeout);if(o<i.mouse){document.removeEventListener("mousemove",this[w])}else if(a>=r){document.removeEventListener("mousemove",this[w]);this[S]()}}[y](t){if(!this.dragging){return}const e=document.elementFromPoint(t.clientX,t.clientY);const n=new p({clientX:t.clientX,clientY:t.clientY,target:e,container:this.currentContainer,originalEvent:t});this.trigger(this.currentContainer,n)}[C](t){clearTimeout(this.mouseDownTimeout);if(t.button!==0){return}document.removeEventListener("mouseup",this[C]);document.removeEventListener("dragstart",D);document.removeEventListener("mousemove",this[w]);if(!this.dragging){return}const e=document.elementFromPoint(t.clientX,t.clientY);const n=new f({clientX:t.clientX,clientY:t.clientY,target:e,container:this.currentContainer,originalEvent:t});this.trigger(this.currentContainer,n);document.removeEventListener("contextmenu",this[b],true);document.removeEventListener("mousemove",this[y]);this.currentContainer=null;this.dragging=false;this.startEvent=null}[b](t){t.preventDefault()}}function D(t){t.preventDefault()}function L(t){const{touches:e,changedTouches:n}=t;return e&&e[0]||n&&n[0]}const O=Symbol("onTouchStart");const F=Symbol("onTouchEnd");const X=Symbol("onTouchMove");const Y=Symbol("startDrag");const M=Symbol("onDistanceChange");let T=false;window.addEventListener("touchmove",(t=>{if(!T){return}t.preventDefault()}),{passive:false});class A extends i{constructor(t=[],e={}){super(t,e);this.currentScrollableParent=null;this.tapTimeout=null;this.touchMoved=false;this.pageX=null;this.pageY=null;this[O]=this[O].bind(this);this[F]=this[F].bind(this);this[X]=this[X].bind(this);this[Y]=this[Y].bind(this);this[M]=this[M].bind(this)}attach(){document.addEventListener("touchstart",this[O])}detach(){document.removeEventListener("touchstart",this[O])}[O](t){const e=a(t.target,this.containers);if(!e){return}if(this.options.handle&&t.target&&!a(t.target,this.options.handle)){return}const n=a(t.target,this.options.draggable);if(!n){return}const{distance:r=0}=this.options;const{delay:s}=this;const{pageX:i,pageY:o}=L(t);Object.assign(this,{pageX:i,pageY:o});this.onTouchStartAt=Date.now();this.startEvent=t;this.currentContainer=e;this.originalSource=n;document.addEventListener("touchend",this[F]);document.addEventListener("touchcancel",this[F]);document.addEventListener("touchmove",this[M]);e.addEventListener("contextmenu",N);if(r){T=true}this.tapTimeout=window.setTimeout((()=>{this[M]({touches:[{pageX:this.pageX,pageY:this.pageY}]})}),s.touch)}[Y](){const t=this.startEvent;const e=this.currentContainer;const n=L(t);const r=this.originalSource;const s=new m({clientX:n.pageX,clientY:n.pageY,target:t.target,container:e,originalSource:r,originalEvent:t});this.trigger(this.currentContainer,s);this.dragging=!s.canceled();if(this.dragging){document.addEventListener("touchmove",this[X])}T=this.dragging}[M](t){const{distance:e}=this.options;const{startEvent:n,delay:r}=this;const s=L(n);const i=L(t);const o=Date.now()-this.onTouchStartAt;const a=u(s.pageX,s.pageY,i.pageX,i.pageY);Object.assign(this,i);clearTimeout(this.tapTimeout);if(o<r.touch){document.removeEventListener("touchmove",this[M])}else if(a>=e){document.removeEventListener("touchmove",this[M]);this[Y]()}}[X](t){if(!this.dragging){return}const{pageX:e,pageY:n}=L(t);const r=document.elementFromPoint(e-window.scrollX,n-window.scrollY);const s=new p({clientX:e,clientY:n,target:r,container:this.currentContainer,originalEvent:t});this.trigger(this.currentContainer,s)}[F](t){clearTimeout(this.tapTimeout);T=false;document.removeEventListener("touchend",this[F]);document.removeEventListener("touchcancel",this[F]);document.removeEventListener("touchmove",this[M]);if(this.currentContainer){this.currentContainer.removeEventListener("contextmenu",N)}if(!this.dragging){return}document.removeEventListener("touchmove",this[X]);const{pageX:e,pageY:n}=L(t);const r=document.elementFromPoint(e-window.scrollX,n-window.scrollY);t.preventDefault();const s=new f({clientX:e,clientY:n,target:r,container:this.currentContainer,originalEvent:t});this.trigger(this.currentContainer,s);this.currentContainer=null;this.dragging=false;this.startEvent=null}}function N(t){t.preventDefault();t.stopPropagation()}const P=Symbol("onMouseDown");const z=Symbol("onMouseUp");const I=Symbol("onDragStart");const $=Symbol("onDragOver");const k=Symbol("onDragEnd");const q=Symbol("onDrop");const B=Symbol("reset");class H extends(null&&Sensor){constructor(t=[],e={}){super(t,e);this.mouseDownTimeout=null;this.draggableElement=null;this.nativeDraggableElement=null;this[P]=this[P].bind(this);this[z]=this[z].bind(this);this[I]=this[I].bind(this);this[$]=this[$].bind(this);this[k]=this[k].bind(this);this[q]=this[q].bind(this)}attach(){document.addEventListener("mousedown",this[P],true)}detach(){document.removeEventListener("mousedown",this[P],true)}[I](t){t.dataTransfer.setData("text","");t.dataTransfer.effectAllowed=this.options.type;const e=document.elementFromPoint(t.clientX,t.clientY);const n=this.draggableElement;if(!n){return}const r=new DragStartSensorEvent({clientX:t.clientX,clientY:t.clientY,target:e,originalSource:n,container:this.currentContainer,originalEvent:t});setTimeout((()=>{this.trigger(this.currentContainer,r);if(r.canceled()){this.dragging=false}else{this.dragging=true}}),0)}[$](t){if(!this.dragging){return}const e=document.elementFromPoint(t.clientX,t.clientY);const n=this.currentContainer;const r=new DragMoveSensorEvent({clientX:t.clientX,clientY:t.clientY,target:e,container:n,originalEvent:t});this.trigger(n,r);if(!r.canceled()){t.preventDefault();t.dataTransfer.dropEffect=this.options.type}}[k](t){if(!this.dragging){return}document.removeEventListener("mouseup",this[z],true);const e=document.elementFromPoint(t.clientX,t.clientY);const n=this.currentContainer;const r=new DragStopSensorEvent({clientX:t.clientX,clientY:t.clientY,target:e,container:n,originalEvent:t});this.trigger(n,r);this.dragging=false;this.startEvent=null;this[B]()}[q](t){t.preventDefault()}[P](t){if(t.target&&(t.target.form||t.target.contenteditable)){return}const e=t.target;this.currentContainer=closest(e,this.containers);if(!this.currentContainer){return}if(this.options.handle&&e&&!closest(e,this.options.handle)){return}const n=closest(e,this.options.draggable);if(!n){return}const r=closest(t.target,(t=>t.draggable));if(r){r.draggable=false;this.nativeDraggableElement=r}document.addEventListener("mouseup",this[z],true);document.addEventListener("dragstart",this[I],false);document.addEventListener("dragover",this[$],false);document.addEventListener("dragend",this[k],false);document.addEventListener("drop",this[q],false);this.startEvent=t;this.mouseDownTimeout=setTimeout((()=>{n.draggable=true;this.draggableElement=n}),this.delay.drag)}[z](){this[B]()}[B](){clearTimeout(this.mouseDownTimeout);document.removeEventListener("mouseup",this[z],true);document.removeEventListener("dragstart",this[I],false);document.removeEventListener("dragover",this[$],false);document.removeEventListener("dragend",this[k],false);document.removeEventListener("drop",this[q],false);if(this.nativeDraggableElement){this.nativeDraggableElement.draggable=true;this.nativeDraggableElement=null}if(this.draggableElement){this.draggableElement.draggable=false;this.draggableElement=null}}}const R=Symbol("onMouseForceWillBegin");const U=Symbol("onMouseForceDown");const W=Symbol("onMouseDown");const j=Symbol("onMouseForceChange");const _=Symbol("onMouseMove");const V=Symbol("onMouseUp");const G=Symbol("onMouseForceGlobalChange");class K extends(null&&Sensor){constructor(t=[],e={}){super(t,e);this.mightDrag=false;this[R]=this[R].bind(this);this[U]=this[U].bind(this);this[W]=this[W].bind(this);this[j]=this[j].bind(this);this[_]=this[_].bind(this);this[V]=this[V].bind(this)}attach(){for(const t of this.containers){t.addEventListener("webkitmouseforcewillbegin",this[R],false);t.addEventListener("webkitmouseforcedown",this[U],false);t.addEventListener("mousedown",this[W],true);t.addEventListener("webkitmouseforcechanged",this[j],false)}document.addEventListener("mousemove",this[_]);document.addEventListener("mouseup",this[V])}detach(){for(const t of this.containers){t.removeEventListener("webkitmouseforcewillbegin",this[R],false);t.removeEventListener("webkitmouseforcedown",this[U],false);t.removeEventListener("mousedown",this[W],true);t.removeEventListener("webkitmouseforcechanged",this[j],false)}document.removeEventListener("mousemove",this[_]);document.removeEventListener("mouseup",this[V])}[R](t){t.preventDefault();this.mightDrag=true}[U](t){if(this.dragging){return}const e=document.elementFromPoint(t.clientX,t.clientY);const n=t.currentTarget;if(this.options.handle&&e&&!closest(e,this.options.handle)){return}const r=closest(e,this.options.draggable);if(!r){return}const s=new DragStartSensorEvent({clientX:t.clientX,clientY:t.clientY,target:e,container:n,originalSource:r,originalEvent:t});this.trigger(n,s);this.currentContainer=n;this.dragging=!s.canceled();this.mightDrag=false}[V](t){if(!this.dragging){return}const e=new DragStopSensorEvent({clientX:t.clientX,clientY:t.clientY,target:null,container:this.currentContainer,originalEvent:t});this.trigger(this.currentContainer,e);this.currentContainer=null;this.dragging=false;this.mightDrag=false}[W](t){if(!this.mightDrag){return}t.stopPropagation();t.stopImmediatePropagation();t.preventDefault()}[_](t){if(!this.dragging){return}const e=document.elementFromPoint(t.clientX,t.clientY);const n=new DragMoveSensorEvent({clientX:t.clientX,clientY:t.clientY,target:e,container:this.currentContainer,originalEvent:t});this.trigger(this.currentContainer,n)}[j](t){if(this.dragging){return}const e=t.target;const n=t.currentTarget;const r=new DragPressureSensorEvent({pressure:t.webkitForce,clientX:t.clientX,clientY:t.clientY,target:e,container:n,originalEvent:t});this.trigger(n,r)}[G](t){if(!this.dragging){return}const e=t.target;const n=new DragPressureSensorEvent({pressure:t.webkitForce,clientX:t.clientX,clientY:t.clientY,target:e,container:this.currentContainer,originalEvent:t});this.trigger(this.currentContainer,n)}}class Z extends r{get dragEvent(){return this.data.dragEvent}}Z.type="collidable";class J extends Z{get collidingElement(){return this.data.collidingElement}}J.type="collidable:in";class Q extends Z{get collidingElement(){return this.data.collidingElement}}Q.type="collidable:out";const tt=Symbol("onDragMove");const et=Symbol("onDragStop");const nt=Symbol("onRequestAnimationFrame");class rt extends(null&&AbstractPlugin){constructor(t){super(t);this.currentlyCollidingElement=null;this.lastCollidingElement=null;this.currentAnimationFrame=null;this[tt]=this[tt].bind(this);this[et]=this[et].bind(this);this[nt]=this[nt].bind(this)}attach(){this.draggable.on("drag:move",this[tt]).on("drag:stop",this[et])}detach(){this.draggable.off("drag:move",this[tt]).off("drag:stop",this[et])}getCollidables(){const t=this.draggable.options.collidables;if(typeof t==="string"){return Array.prototype.slice.call(document.querySelectorAll(t))}else if(t instanceof NodeList||t instanceof Array){return Array.prototype.slice.call(t)}else if(t instanceof HTMLElement){return[t]}else if(typeof t==="function"){return t()}else{return[]}}[tt](t){const e=t.sensorEvent.target;this.currentAnimationFrame=requestAnimationFrame(this[nt](e));if(this.currentlyCollidingElement){t.cancel()}const n=new CollidableInEvent({dragEvent:t,collidingElement:this.currentlyCollidingElement});const r=new CollidableOutEvent({dragEvent:t,collidingElement:this.lastCollidingElement});const s=Boolean(this.currentlyCollidingElement&&this.lastCollidingElement!==this.currentlyCollidingElement);const i=Boolean(!this.currentlyCollidingElement&&this.lastCollidingElement);if(s){if(this.lastCollidingElement){this.draggable.trigger(r)}this.draggable.trigger(n)}else if(i){this.draggable.trigger(r)}this.lastCollidingElement=this.currentlyCollidingElement}[et](t){const e=this.currentlyCollidingElement||this.lastCollidingElement;const n=new CollidableOutEvent({dragEvent:t,collidingElement:e});if(e){this.draggable.trigger(n)}this.lastCollidingElement=null;this.currentlyCollidingElement=null}[nt](t){return()=>{const e=this.getCollidables();this.currentlyCollidingElement=closest(t,(t=>e.includes(t)))}}}class st extends r{constructor(t){super(t);this.data=t}get source(){return this.data.source}get originalSource(){return this.data.originalSource}get mirror(){return this.data.mirror}get sourceContainer(){return this.data.sourceContainer}get sensorEvent(){return this.data.sensorEvent}get originalEvent(){if(this.sensorEvent){return this.sensorEvent.originalEvent}return null}}st.type="drag";class it extends st{}it.type="drag:start";it.cancelable=true;class ot extends st{}ot.type="drag:move";class at extends st{get overContainer(){return this.data.overContainer}get over(){return this.data.over}}at.type="drag:over";at.cancelable=true;function lt(t){return t.type===at.type}class ct extends st{get overContainer(){return this.data.overContainer}get over(){return this.data.over}}ct.type="drag:out";class ht extends st{get overContainer(){return this.data.overContainer}}ht.type="drag:over:container";class dt extends st{get overContainer(){return this.data.overContainer}}dt.type="drag:out:container";class ut extends st{get pressure(){return this.data.pressure}}ut.type="drag:pressure";class gt extends st{}gt.type="drag:stop";gt.cancelable=true;class mt extends st{}mt.type="drag:stopped";const pt={};class ft extends(null&&AbstractPlugin){constructor(t){super(t);this.lastWidth=0;this.lastHeight=0;this.mirror=null;this.onMirrorCreated=this.onMirrorCreated.bind(this);this.onMirrorDestroy=this.onMirrorDestroy.bind(this);this.onDragOver=this.onDragOver.bind(this)}attach(){this.draggable.on("mirror:created",this.onMirrorCreated).on("drag:over",this.onDragOver).on("drag:over:container",this.onDragOver)}detach(){this.draggable.off("mirror:created",this.onMirrorCreated).off("mirror:destroy",this.onMirrorDestroy).off("drag:over",this.onDragOver).off("drag:over:container",this.onDragOver)}getOptions(){return this.draggable.options.resizeMirror||{}}onMirrorCreated({mirror:t}){this.mirror=t}onMirrorDestroy(){this.mirror=null}onDragOver(t){this.resize(t)}resize(t){requestAnimationFrame((()=>{let e=null;const{overContainer:n}=t;if(this.mirror==null||this.mirror.parentNode==null){return}if(this.mirror.parentNode!==n){n.appendChild(this.mirror)}if(isDragOverEvent(t)){e=t.over}const r=e||this.draggable.getDraggableElementsForContainer(n)[0];if(!r){return}requestNextAnimationFrame((()=>{const t=r.getBoundingClientRect();if(this.mirror==null||this.lastHeight===t.height&&this.lastWidth===t.width){return}this.mirror.style.width=`${t.width}px`;this.mirror.style.height=`${t.height}px`;this.lastWidth=t.width;this.lastHeight=t.height}))}))}}class vt extends r{get dragEvent(){return this.data.dragEvent}get snappable(){return this.data.snappable}}vt.type="snap";class bt extends vt{}bt.type="snap:in";bt.cancelable=true;class Et extends vt{}Et.type="snap:out";Et.cancelable=true;const yt=Symbol("onDragStart");const Ct=Symbol("onDragStop");const St=Symbol("onDragOver");const wt=Symbol("onDragOut");const xt=Symbol("onMirrorCreated");const Dt=Symbol("onMirrorDestroy");class Lt extends(null&&AbstractPlugin){constructor(t){super(t);this.firstSource=null;this.mirror=null;this[yt]=this[yt].bind(this);this[Ct]=this[Ct].bind(this);this[St]=this[St].bind(this);this[wt]=this[wt].bind(this);this[xt]=this[xt].bind(this);this[Dt]=this[Dt].bind(this)}attach(){this.draggable.on("drag:start",this[yt]).on("drag:stop",this[Ct]).on("drag:over",this[St]).on("drag:out",this[wt]).on("droppable:over",this[St]).on("droppable:out",this[wt]).on("mirror:created",this[xt]).on("mirror:destroy",this[Dt])}detach(){this.draggable.off("drag:start",this[yt]).off("drag:stop",this[Ct]).off("drag:over",this[St]).off("drag:out",this[wt]).off("droppable:over",this[St]).off("droppable:out",this[wt]).off("mirror:created",this[xt]).off("mirror:destroy",this[Dt])}[yt](t){if(t.canceled()){return}this.firstSource=t.source}[Ct](){this.firstSource=null}[St](t){if(t.canceled()){return}const e=t.source||t.dragEvent.source;if(e===this.firstSource){this.firstSource=null;return}const n=new SnapInEvent({dragEvent:t,snappable:t.over||t.droppable});this.draggable.trigger(n);if(n.canceled()){return}if(this.mirror){this.mirror.style.display="none"}e.classList.remove(...this.draggable.getClassNamesFor("source:dragging"));e.classList.add(...this.draggable.getClassNamesFor("source:placed"));setTimeout((()=>{e.classList.remove(...this.draggable.getClassNamesFor("source:placed"))}),this.draggable.options.placedTimeout)}[wt](t){if(t.canceled()){return}const e=t.source||t.dragEvent.source;const n=new SnapOutEvent({dragEvent:t,snappable:t.over||t.droppable});this.draggable.trigger(n);if(n.canceled()){return}if(this.mirror){this.mirror.style.display=""}e.classList.add(...this.draggable.getClassNamesFor("source:dragging"))}[xt]({mirror:t}){this.mirror=t}[Dt](){this.mirror=null}}const Ot={duration:150,easingFunction:"ease-in-out",horizontal:false};class Ft extends(null&&AbstractPlugin){constructor(t){super(t);this.options={...Ot,...this.getOptions()};this.lastAnimationFrame=null;this.onSortableSorted=this.onSortableSorted.bind(this)}attach(){this.draggable.on("sortable:sorted",this.onSortableSorted)}detach(){this.draggable.off("sortable:sorted",this.onSortableSorted)}getOptions(){return this.draggable.options.swapAnimation||{}}onSortableSorted({oldIndex:t,newIndex:e,dragEvent:n}){const{source:r,over:s}=n;if(this.lastAnimationFrame){cancelAnimationFrame(this.lastAnimationFrame)}this.lastAnimationFrame=requestAnimationFrame((()=>{if(t>=e){Xt(r,s,this.options)}else{Xt(s,r,this.options)}}))}}function Xt(t,e,{duration:n,easingFunction:r,horizontal:s}){for(const i of[t,e]){i.style.pointerEvents="none"}if(s){const n=t.offsetWidth;t.style.transform=`translate3d(${n}px, 0, 0)`;e.style.transform=`translate3d(-${n}px, 0, 0)`}else{const n=t.offsetHeight;t.style.transform=`translate3d(0, ${n}px, 0)`;e.style.transform=`translate3d(0, -${n}px, 0)`}requestAnimationFrame((()=>{for(const s of[t,e]){s.addEventListener("transitionend",Yt);s.style.transition=`transform ${n}ms ${r}`;s.style.transform=""}}))}function Yt(t){if(t.target==null||!Mt(t.target)){return}t.target.style.transition="";t.target.style.pointerEvents="";t.target.removeEventListener("transitionend",Yt)}function Mt(t){return Boolean("style"in t)}const Tt=Symbol("onSortableSorted");const At=Symbol("onSortableSort");const Nt={duration:150,easingFunction:"ease-in-out"};class Pt extends(null&&AbstractPlugin){constructor(t){super(t);this.options={...Nt,...this.getOptions()};this.lastAnimationFrame=null;this.lastElements=[];this[Tt]=this[Tt].bind(this);this[At]=this[At].bind(this)}attach(){this.draggable.on("sortable:sort",this[At]);this.draggable.on("sortable:sorted",this[Tt])}detach(){this.draggable.off("sortable:sort",this[At]);this.draggable.off("sortable:sorted",this[Tt])}getOptions(){return this.draggable.options.sortAnimation||{}}[At]({dragEvent:t}){const{sourceContainer:e}=t;const n=this.draggable.getDraggableElementsForContainer(e);this.lastElements=Array.from(n).map((t=>({domEl:t,offsetTop:t.offsetTop,offsetLeft:t.offsetLeft})))}[Tt]({oldIndex:t,newIndex:e}){if(t===e){return}const n=[];let r;let s;let i;if(t>e){r=e;s=t-1;i=1}else{r=t+1;s=e;i=-1}for(let o=r;o<=s;o++){const t=this.lastElements[o];const e=this.lastElements[o+i];n.push({from:t,to:e})}cancelAnimationFrame(this.lastAnimationFrame);this.lastAnimationFrame=requestAnimationFrame((()=>{n.forEach((t=>zt(t,this.options)))}))}}function zt({from:t,to:e},{duration:n,easingFunction:r}){const s=t.domEl;const i=t.offsetLeft-e.offsetLeft;const o=t.offsetTop-e.offsetTop;s.style.pointerEvents="none";s.style.transform=`translate3d(${i}px, ${o}px, 0)`;requestAnimationFrame((()=>{s.addEventListener("transitionend",It);s.style.transition=`transform ${n}ms ${r}`;s.style.transform=""}))}function It(t){t.target.style.transition="";t.target.style.pointerEvents="";t.target.removeEventListener("transitionend",It)}class $t{constructor(t){this.draggable=t}attach(){throw new Error("Not Implemented")}detach(){throw new Error("Not Implemented")}}const kt=Symbol("onInitialize");const qt=Symbol("onDestroy");const Bt=Symbol("announceEvent");const Ht=Symbol("announceMessage");const Rt="aria-relevant";const Ut="aria-atomic";const Wt="aria-live";const jt="role";const _t={expire:7e3};class Vt extends $t{constructor(t){super(t);this.options={..._t,...this.getOptions()};this.originalTriggerMethod=this.draggable.trigger;this[kt]=this[kt].bind(this);this[qt]=this[qt].bind(this)}attach(){this.draggable.on("draggable:initialize",this[kt])}detach(){this.draggable.off("draggable:destroy",this[qt])}getOptions(){return this.draggable.options.announcements||{}}[Bt](t){const e=this.options[t.type];if(e&&typeof e==="string"){this[Ht](e)}if(e&&typeof e==="function"){this[Ht](e(t))}}[Ht](t){Kt(t,{expire:this.options.expire})}[kt](){this.draggable.trigger=t=>{try{this[Bt](t)}finally{this.originalTriggerMethod.call(this.draggable,t)}}}[qt](){this.draggable.trigger=this.originalTriggerMethod}}const Gt=Zt();function Kt(t,{expire:e}){const n=document.createElement("div");n.textContent=t;Gt.appendChild(n);return setTimeout((()=>{Gt.removeChild(n)}),e)}function Zt(){const t=document.createElement("div");t.setAttribute("id","draggable-live-region");t.setAttribute(Rt,"additions");t.setAttribute(Ut,"true");t.setAttribute(Wt,"assertive");t.setAttribute(jt,"log");t.style.position="fixed";t.style.width="1px";t.style.height="1px";t.style.top="-1px";t.style.overflow="hidden";return t}document.addEventListener("DOMContentLoaded",(()=>{document.body.appendChild(Gt)}));const Jt=Symbol("onInitialize");const Qt=Symbol("onDestroy");const te={};class ee extends $t{constructor(t){super(t);this.options={...te,...this.getOptions()};this[Jt]=this[Jt].bind(this);this[Qt]=this[Qt].bind(this)}attach(){this.draggable.on("draggable:initialize",this[Jt]).on("draggable:destroy",this[Qt])}detach(){this.draggable.off("draggable:initialize",this[Jt]).off("draggable:destroy",this[Qt]);this[Qt]()}getOptions(){return this.draggable.options.focusable||{}}getElements(){return[...this.draggable.containers,...this.draggable.getDraggableElements()]}[Jt](){requestAnimationFrame((()=>{this.getElements().forEach((t=>re(t)))}))}[Qt](){requestAnimationFrame((()=>{this.getElements().forEach((t=>se(t)))}))}}const ne=[];function re(t){const e=Boolean(!t.getAttribute("tabindex")&&t.tabIndex===-1);if(e){ne.push(t);t.tabIndex=0}}function se(t){const e=ne.indexOf(t);if(e!==-1){t.tabIndex=-1;ne.splice(e,1)}}class ie extends r{get source(){return this.data.source}get originalSource(){return this.data.originalSource}get sourceContainer(){return this.data.sourceContainer}get sensorEvent(){return this.data.sensorEvent}get dragEvent(){return this.data.dragEvent}get originalEvent(){if(this.sensorEvent){return this.sensorEvent.originalEvent}return null}}class oe extends ie{}oe.type="mirror:create";class ae extends ie{get mirror(){return this.data.mirror}}ae.type="mirror:created";class le extends ie{get mirror(){return this.data.mirror}}le.type="mirror:attached";class ce extends ie{get mirror(){return this.data.mirror}get passedThreshX(){return this.data.passedThreshX}get passedThreshY(){return this.data.passedThreshY}}ce.type="mirror:move";ce.cancelable=true;class he extends ie{get mirror(){return this.data.mirror}get passedThreshX(){return this.data.passedThreshX}get passedThreshY(){return this.data.passedThreshY}}he.type="mirror:moved";class de extends ie{get mirror(){return this.data.mirror}}de.type="mirror:destroy";de.cancelable=true;const ue=Symbol("onDragStart");const ge=Symbol("onDragMove");const me=Symbol("onDragStop");const pe=Symbol("onMirrorCreated");const fe=Symbol("onMirrorMove");const ve=Symbol("onScroll");const be=Symbol("getAppendableContainer");const Ee={constrainDimensions:false,xAxis:true,yAxis:true,cursorOffsetX:null,cursorOffsetY:null,thresholdX:null,thresholdY:null};class ye extends $t{constructor(t){super(t);this.options={...Ee,...this.getOptions()};this.scrollOffset={x:0,y:0};this.initialScrollOffset={x:window.scrollX,y:window.scrollY};this[ue]=this[ue].bind(this);this[ge]=this[ge].bind(this);this[me]=this[me].bind(this);this[pe]=this[pe].bind(this);this[fe]=this[fe].bind(this);this[ve]=this[ve].bind(this)}attach(){this.draggable.on("drag:start",this[ue]).on("drag:move",this[ge]).on("drag:stop",this[me]).on("mirror:created",this[pe]).on("mirror:move",this[fe])}detach(){this.draggable.off("drag:start",this[ue]).off("drag:move",this[ge]).off("drag:stop",this[me]).off("mirror:created",this[pe]).off("mirror:move",this[fe])}getOptions(){return this.draggable.options.mirror||{}}[ue](t){if(t.canceled()){return}if("ontouchstart"in window){document.addEventListener("scroll",this[ve],true)}this.initialScrollOffset={x:window.scrollX,y:window.scrollY};const{source:e,originalSource:n,sourceContainer:r,sensorEvent:s}=t;this.lastMirrorMovedClient={x:s.clientX,y:s.clientY};const i=new oe({source:e,originalSource:n,sourceContainer:r,sensorEvent:s,dragEvent:t});this.draggable.trigger(i);if(Fe(s)||i.canceled()){return}const o=this[be](e)||r;this.mirror=e.cloneNode(true);const a=new ae({source:e,originalSource:n,sourceContainer:r,sensorEvent:s,dragEvent:t,mirror:this.mirror});const l=new le({source:e,originalSource:n,sourceContainer:r,sensorEvent:s,dragEvent:t,mirror:this.mirror});this.draggable.trigger(a);o.appendChild(this.mirror);this.draggable.trigger(l)}[ge](t){if(!this.mirror||t.canceled()){return}const{source:e,originalSource:n,sourceContainer:r,sensorEvent:s}=t;let i=true;let o=true;if(this.options.thresholdX||this.options.thresholdY){const{x:t,y:e}=this.lastMirrorMovedClient;if(Math.abs(t-s.clientX)<this.options.thresholdX){i=false}else{this.lastMirrorMovedClient.x=s.clientX}if(Math.abs(e-s.clientY)<this.options.thresholdY){o=false}else{this.lastMirrorMovedClient.y=s.clientY}if(!i&&!o){return}}const a=new ce({source:e,originalSource:n,sourceContainer:r,sensorEvent:s,dragEvent:t,mirror:this.mirror,passedThreshX:i,passedThreshY:o});this.draggable.trigger(a)}[me](t){if("ontouchstart"in window){document.removeEventListener("scroll",this[ve],true)}this.initialScrollOffset={x:0,y:0};this.scrollOffset={x:0,y:0};if(!this.mirror){return}const{source:e,sourceContainer:n,sensorEvent:r}=t;const s=new de({source:e,mirror:this.mirror,sourceContainer:n,sensorEvent:r,dragEvent:t});this.draggable.trigger(s);if(!s.canceled()){this.mirror.remove()}}[ve](){this.scrollOffset={x:window.scrollX-this.initialScrollOffset.x,y:window.scrollY-this.initialScrollOffset.y}}[pe]({mirror:t,source:e,sensorEvent:n}){const r=this.draggable.getClassNamesFor("mirror");const s=({mirrorOffset:t,initialX:e,initialY:n,...r})=>{this.mirrorOffset=t;this.initialX=e;this.initialY=n;this.lastMovedX=e;this.lastMovedY=n;return{mirrorOffset:t,initialX:e,initialY:n,...r}};t.style.display="none";const i={mirror:t,source:e,sensorEvent:n,mirrorClasses:r,scrollOffset:this.scrollOffset,options:this.options,passedThreshX:true,passedThreshY:true};return Promise.resolve(i).then(Ce).then(Se).then(we).then(xe).then(Le({initial:true})).then(De).then(s)}[fe](t){if(t.canceled()){return null}const e=({lastMovedX:t,lastMovedY:e,...n})=>{this.lastMovedX=t;this.lastMovedY=e;return{lastMovedX:t,lastMovedY:e,...n}};const n=e=>{const n=new he({source:t.source,originalSource:t.originalSource,sourceContainer:t.sourceContainer,sensorEvent:t.sensorEvent,dragEvent:t.dragEvent,mirror:this.mirror,passedThreshX:t.passedThreshX,passedThreshY:t.passedThreshY});this.draggable.trigger(n);return e};const r={mirror:t.mirror,sensorEvent:t.sensorEvent,mirrorOffset:this.mirrorOffset,options:this.options,initialX:this.initialX,initialY:this.initialY,scrollOffset:this.scrollOffset,passedThreshX:t.passedThreshX,passedThreshY:t.passedThreshY,lastMovedX:this.lastMovedX,lastMovedY:this.lastMovedY};return Promise.resolve(r).then(Le({raf:true})).then(e).then(n)}[be](t){const e=this.options.appendTo;if(typeof e==="string"){return document.querySelector(e)}else if(e instanceof HTMLElement){return e}else if(typeof e==="function"){return e(t)}else{return t.parentNode}}}function Ce({source:t,...e}){return Oe((n=>{const r=t.getBoundingClientRect();n({source:t,sourceRect:r,...e})}))}function Se({sensorEvent:t,sourceRect:e,options:n,...r}){return Oe((s=>{const i=n.cursorOffsetY===null?t.clientY-e.top:n.cursorOffsetY;const o=n.cursorOffsetX===null?t.clientX-e.left:n.cursorOffsetX;const a={top:i,left:o};s({sensorEvent:t,sourceRect:e,mirrorOffset:a,options:n,...r})}))}function we({mirror:t,source:e,options:n,...r}){return Oe((s=>{let i;let o;if(n.constrainDimensions){const t=getComputedStyle(e);i=t.getPropertyValue("height");o=t.getPropertyValue("width")}t.style.display=null;t.style.position="fixed";t.style.pointerEvents="none";t.style.top=0;t.style.left=0;t.style.margin=0;if(n.constrainDimensions){t.style.height=i;t.style.width=o}s({mirror:t,source:e,options:n,...r})}))}function xe({mirror:t,mirrorClasses:e,...n}){return Oe((r=>{t.classList.add(...e);r({mirror:t,mirrorClasses:e,...n})}))}function De({mirror:t,...e}){return Oe((n=>{t.removeAttribute("id");delete t.id;n({mirror:t,...e})}))}function Le({withFrame:t=false,initial:e=false}={}){return({mirror:n,sensorEvent:r,mirrorOffset:s,initialY:i,initialX:o,scrollOffset:a,options:l,passedThreshX:c,passedThreshY:h,lastMovedX:d,lastMovedY:u,...g})=>Oe((t=>{const m={mirror:n,sensorEvent:r,mirrorOffset:s,options:l,...g};if(s){const t=c?Math.round((r.clientX-s.left-a.x)/(l.thresholdX||1))*(l.thresholdX||1):Math.round(d);const g=h?Math.round((r.clientY-s.top-a.y)/(l.thresholdY||1))*(l.thresholdY||1):Math.round(u);if(l.xAxis&&l.yAxis||e){n.style.transform=`translate3d(${t}px, ${g}px, 0)`}else if(l.xAxis&&!l.yAxis){n.style.transform=`translate3d(${t}px, ${i}px, 0)`}else if(l.yAxis&&!l.xAxis){n.style.transform=`translate3d(${o}px, ${g}px, 0)`}if(e){m.initialX=t;m.initialY=g}m.lastMovedX=t;m.lastMovedY=g}t(m)}),{frame:t})}function Oe(t,{raf:e=false}={}){return new Promise(((n,r)=>{if(e){requestAnimationFrame((()=>{t(n,r)}))}else{t(n,r)}}))}function Fe(t){return/^drag/.test(t.originalEvent.type)}const Xe=Symbol("onDragStart");const Ye=Symbol("onDragMove");const Me=Symbol("onDragStop");const Te=Symbol("scroll");const Ae={speed:6,sensitivity:50,scrollableElements:[]};class Ne extends $t{constructor(t){super(t);this.options={...Ae,...this.getOptions()};this.currentMousePosition=null;this.scrollAnimationFrame=null;this.scrollableElement=null;this.findScrollableElementFrame=null;this[Xe]=this[Xe].bind(this);this[Ye]=this[Ye].bind(this);this[Me]=this[Me].bind(this);this[Te]=this[Te].bind(this)}attach(){this.draggable.on("drag:start",this[Xe]).on("drag:move",this[Ye]).on("drag:stop",this[Me])}detach(){this.draggable.off("drag:start",this[Xe]).off("drag:move",this[Ye]).off("drag:stop",this[Me])}getOptions(){return this.draggable.options.scrollable||{}}getScrollableElement(t){if(this.hasDefinedScrollableElements()){return a(t,this.options.scrollableElements)||document.documentElement}else{return Ie(t)}}hasDefinedScrollableElements(){return Boolean(this.options.scrollableElements.length!==0)}[Xe](t){this.findScrollableElementFrame=requestAnimationFrame((()=>{this.scrollableElement=this.getScrollableElement(t.source)}))}[Ye](t){this.findScrollableElementFrame=requestAnimationFrame((()=>{this.scrollableElement=this.getScrollableElement(t.sensorEvent.target)}));if(!this.scrollableElement){return}const e=t.sensorEvent;const n={x:0,y:0};if("ontouchstart"in window){n.y=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;n.x=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0}this.currentMousePosition={clientX:e.clientX-n.x,clientY:e.clientY-n.y};this.scrollAnimationFrame=requestAnimationFrame(this[Te])}[Me](){cancelAnimationFrame(this.scrollAnimationFrame);cancelAnimationFrame(this.findScrollableElementFrame);this.scrollableElement=null;this.scrollAnimationFrame=null;this.findScrollableElementFrame=null;this.currentMousePosition=null}[Te](){if(!this.scrollableElement||!this.currentMousePosition){return}cancelAnimationFrame(this.scrollAnimationFrame);const{speed:t,sensitivity:e}=this.options;const n=this.scrollableElement.getBoundingClientRect();const r=n.bottom>window.innerHeight;const s=n.top<0;const i=s||r;const o=$e();const a=this.scrollableElement;const l=this.currentMousePosition.clientX;const c=this.currentMousePosition.clientY;if(a!==document.body&&a!==document.documentElement&&!i){const{offsetHeight:r,offsetWidth:s}=a;if(n.top+r-c<e){a.scrollTop+=t}else if(c-n.top<e){a.scrollTop-=t}if(n.left+s-l<e){a.scrollLeft+=t}else if(l-n.left<e){a.scrollLeft-=t}}else{const{innerHeight:n,innerWidth:r}=window;if(c<e){o.scrollTop-=t}else if(n-c<e){o.scrollTop+=t}if(l<e){o.scrollLeft-=t}else if(r-l<e){o.scrollLeft+=t}}this.scrollAnimationFrame=requestAnimationFrame(this[Te])}}function Pe(t){const e=/(auto|scroll)/;const n=getComputedStyle(t,null);const r=n.getPropertyValue("overflow")+n.getPropertyValue("overflow-y")+n.getPropertyValue("overflow-x");return e.test(r)}function ze(t){const e=getComputedStyle(t).getPropertyValue("position");return e==="static"}function Ie(t){if(!t){return $e()}const e=getComputedStyle(t).getPropertyValue("position");const n=e==="absolute";const r=a(t,(t=>{if(n&&ze(t)){return false}return Pe(t)}));if(e==="fixed"||!r){return $e()}else{return r}}function $e(){return document.scrollingElement||document.documentElement}class ke{constructor(){this.callbacks={}}on(t,...e){if(!this.callbacks[t]){this.callbacks[t]=[]}this.callbacks[t].push(...e);return this}off(t,e){if(!this.callbacks[t]){return null}const n=this.callbacks[t].slice(0);for(let r=0;r<n.length;r++){if(e===n[r]){this.callbacks[t].splice(r,1)}}return this}trigger(t){if(!this.callbacks[t.type]){return null}const e=[...this.callbacks[t.type]];const n=[];for(let s=e.length-1;s>=0;s--){const i=e[s];try{i(t)}catch(r){n.push(r)}}if(n.length){console.error(`Draggable caught errors while triggering '${t.type}'`,n)}return this}}class qe extends r{get draggable(){return this.data.draggable}}qe.type="draggable";class Be extends qe{}Be.type="draggable:initialize";class He extends qe{}He.type="draggable:destroy";const Re=Symbol("onDragStart");const Ue=Symbol("onDragMove");const We=Symbol("onDragStop");const je=Symbol("onDragPressure");const _e=Symbol("dragStop");const Ve={"drag:start":t=>`Picked up ${t.source.textContent.trim()||t.source.id||"draggable element"}`,"drag:stop":t=>`Released ${t.source.textContent.trim()||t.source.id||"draggable element"}`};const Ge={"container:dragging":"draggable-container--is-dragging","source:dragging":"draggable-source--is-dragging","source:placed":"draggable-source--placed","container:placed":"draggable-container--placed","body:dragging":"draggable--is-dragging","draggable:over":"draggable--over","container:over":"draggable-container--over","source:original":"draggable--original",mirror:"draggable-mirror"};const Ke={draggable:".draggable-source",handle:null,delay:{},distance:0,placedTimeout:800,plugins:[],sensors:[],exclude:{plugins:[],sensors:[]}};class Ze{constructor(t=[document.body],e={}){if(t instanceof NodeList||t instanceof Array){this.containers=[...t]}else if(t instanceof HTMLElement){this.containers=[t]}else{throw new Error("Draggable containers are expected to be of type `NodeList`, `HTMLElement[]` or `HTMLElement`")}this.options={...Ke,...e,classes:{...Ge,...e.classes||{}},announcements:{...Ve,...e.announcements||{}},exclude:{plugins:e.exclude&&e.exclude.plugins||[],sensors:e.exclude&&e.exclude.sensors||[]}};this.emitter=new ke;this.dragging=false;this.plugins=[];this.sensors=[];this[Re]=this[Re].bind(this);this[Ue]=this[Ue].bind(this);this[We]=this[We].bind(this);this[je]=this[je].bind(this);this[_e]=this[_e].bind(this);document.addEventListener("drag:start",this[Re],true);document.addEventListener("drag:move",this[Ue],true);document.addEventListener("drag:stop",this[We],true);document.addEventListener("drag:pressure",this[je],true);const n=Object.values(Ze.Plugins).filter((t=>!this.options.exclude.plugins.includes(t)));const r=Object.values(Ze.Sensors).filter((t=>!this.options.exclude.sensors.includes(t)));this.addPlugin(...[...n,...this.options.plugins]);this.addSensor(...[...r,...this.options.sensors]);const s=new Be({draggable:this});this.on("mirror:created",(({mirror:t})=>this.mirror=t));this.on("mirror:destroy",(()=>this.mirror=null));this.trigger(s)}destroy(){document.removeEventListener("drag:start",this[Re],true);document.removeEventListener("drag:move",this[Ue],true);document.removeEventListener("drag:stop",this[We],true);document.removeEventListener("drag:pressure",this[je],true);const t=new He({draggable:this});this.trigger(t);this.removePlugin(...this.plugins.map((t=>t.constructor)));this.removeSensor(...this.sensors.map((t=>t.constructor)))}addPlugin(...t){const e=t.map((t=>new t(this)));e.forEach((t=>t.attach()));this.plugins=[...this.plugins,...e];return this}removePlugin(...t){const e=this.plugins.filter((e=>t.includes(e.constructor)));e.forEach((t=>t.detach()));this.plugins=this.plugins.filter((e=>!t.includes(e.constructor)));return this}addSensor(...t){const e=t.map((t=>new t(this.containers,this.options)));e.forEach((t=>t.attach()));this.sensors=[...this.sensors,...e];return this}removeSensor(...t){const e=this.sensors.filter((e=>t.includes(e.constructor)));e.forEach((t=>t.detach()));this.sensors=this.sensors.filter((e=>!t.includes(e.constructor)));return this}addContainer(...t){this.containers=[...this.containers,...t];this.sensors.forEach((e=>e.addContainer(...t)));return this}removeContainer(...t){this.containers=this.containers.filter((e=>!t.includes(e)));this.sensors.forEach((e=>e.removeContainer(...t)));return this}on(t,...e){this.emitter.on(t,...e);return this}off(t,e){this.emitter.off(t,e);return this}trigger(t){this.emitter.trigger(t);return this}getClassNameFor(t){return this.getClassNamesFor(t)[0]}getClassNamesFor(t){const e=this.options.classes[t];if(e instanceof Array){return e}else if(typeof e==="string"||e instanceof String){return[e]}else{return[]}}isDragging(){return Boolean(this.dragging)}getDraggableElements(){return this.containers.reduce(((t,e)=>[...t,...this.getDraggableElementsForContainer(e)]),[])}getDraggableElementsForContainer(t){const e=t.querySelectorAll(this.options.draggable);return[...e].filter((t=>t!==this.originalSource&&t!==this.mirror))}cancel(){this[_e]()}[Re](t){const e=Je(t);const{target:n,container:r,originalSource:s}=e;if(!this.containers.includes(r)){return}if(this.options.handle&&n&&!a(n,this.options.handle)){e.cancel();return}this.originalSource=s;this.sourceContainer=r;if(this.lastPlacedSource&&this.lastPlacedContainer){clearTimeout(this.placedTimeoutID);this.lastPlacedSource.classList.remove(...this.getClassNamesFor("source:placed"));this.lastPlacedContainer.classList.remove(...this.getClassNamesFor("container:placed"))}this.source=this.originalSource.cloneNode(true);this.originalSource.parentNode.insertBefore(this.source,this.originalSource);this.originalSource.style.display="none";const i=new it({source:this.source,originalSource:this.originalSource,sourceContainer:r,sensorEvent:e});this.trigger(i);this.dragging=!i.canceled();if(i.canceled()){this.source.remove();this.originalSource.style.display=null;return}this.originalSource.classList.add(...this.getClassNamesFor("source:original"));this.source.classList.add(...this.getClassNamesFor("source:dragging"));this.sourceContainer.classList.add(...this.getClassNamesFor("container:dragging"));document.body.classList.add(...this.getClassNamesFor("body:dragging"));Qe(document.body,"none");requestAnimationFrame((()=>{const e=Je(t);const n=e.clone({target:this.source});this[Ue]({...t,detail:n})}))}[Ue](t){if(!this.dragging){return}const e=Je(t);const{container:n}=e;let r=e.target;const s=new ot({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:e});this.trigger(s);if(s.canceled()){e.cancel()}r=a(r,this.options.draggable);const i=a(e.target,this.containers);const o=e.overContainer||i;const l=this.currentOverContainer&&o!==this.currentOverContainer;const c=this.currentOver&&r!==this.currentOver;const h=o&&this.currentOverContainer!==o;const d=i&&r&&this.currentOver!==r;if(c){const t=new ct({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:e,over:this.currentOver,overContainer:this.currentOverContainer});this.currentOver.classList.remove(...this.getClassNamesFor("draggable:over"));this.currentOver=null;this.trigger(t)}if(l){const t=new dt({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:e,overContainer:this.currentOverContainer});this.currentOverContainer.classList.remove(...this.getClassNamesFor("container:over"));this.currentOverContainer=null;this.trigger(t)}if(h){o.classList.add(...this.getClassNamesFor("container:over"));const t=new ht({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:e,overContainer:o});this.currentOverContainer=o;this.trigger(t)}if(d){r.classList.add(...this.getClassNamesFor("draggable:over"));const t=new at({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:e,overContainer:o,over:r});this.currentOver=r;this.trigger(t)}}[_e](t){if(!this.dragging){return}this.dragging=false;const e=new gt({source:this.source,originalSource:this.originalSource,sensorEvent:t?t.sensorEvent:null,sourceContainer:this.sourceContainer});this.trigger(e);if(!e.canceled())this.source.parentNode.insertBefore(this.originalSource,this.source);this.source.remove();this.originalSource.style.display="";this.source.classList.remove(...this.getClassNamesFor("source:dragging"));this.originalSource.classList.remove(...this.getClassNamesFor("source:original"));this.originalSource.classList.add(...this.getClassNamesFor("source:placed"));this.sourceContainer.classList.add(...this.getClassNamesFor("container:placed"));this.sourceContainer.classList.remove(...this.getClassNamesFor("container:dragging"));document.body.classList.remove(...this.getClassNamesFor("body:dragging"));Qe(document.body,"");if(this.currentOver){this.currentOver.classList.remove(...this.getClassNamesFor("draggable:over"))}if(this.currentOverContainer){this.currentOverContainer.classList.remove(...this.getClassNamesFor("container:over"))}this.lastPlacedSource=this.originalSource;this.lastPlacedContainer=this.sourceContainer;this.placedTimeoutID=setTimeout((()=>{if(this.lastPlacedSource){this.lastPlacedSource.classList.remove(...this.getClassNamesFor("source:placed"))}if(this.lastPlacedContainer){this.lastPlacedContainer.classList.remove(...this.getClassNamesFor("container:placed"))}this.lastPlacedSource=null;this.lastPlacedContainer=null}),this.options.placedTimeout);const n=new mt({source:this.source,originalSource:this.originalSource,sensorEvent:t?t.sensorEvent:null,sourceContainer:this.sourceContainer});this.trigger(n);this.source=null;this.originalSource=null;this.currentOverContainer=null;this.currentOver=null;this.sourceContainer=null}[We](t){this[_e](t)}[je](t){if(!this.dragging){return}const e=Je(t);const n=this.source||a(e.originalEvent.target,this.options.draggable);const r=new ut({sensorEvent:e,source:n,pressure:e.pressure});this.trigger(r)}}Ze.Plugins={Announcement:Vt,Focusable:ee,Mirror:ye,Scrollable:Ne};Ze.Sensors={MouseSensor:x,TouchSensor:A};function Je(t){return t.detail}function Qe(t,e){t.style.webkitUserSelect=e;t.style.mozUserSelect=e;t.style.msUserSelect=e;t.style.oUserSelect=e;t.style.userSelect=e}class tn extends r{get dragEvent(){return this.data.dragEvent}}tn.type="droppable";class en extends tn{get dropzone(){return this.data.dropzone}}en.type="droppable:start";en.cancelable=true;class nn extends tn{get dropzone(){return this.data.dropzone}}nn.type="droppable:dropped";nn.cancelable=true;class rn extends tn{get dropzone(){return this.data.dropzone}}rn.type="droppable:returned";rn.cancelable=true;class sn extends tn{get dropzone(){return this.data.dropzone}}sn.type="droppable:stop";sn.cancelable=true;const on=Symbol("onDragStart");const an=Symbol("onDragMove");const ln=Symbol("onDragStop");const cn=Symbol("dropInDropZone");const hn=Symbol("returnToOriginalDropzone");const dn=Symbol("closestDropzone");const un=Symbol("getDropzones");function gn({dragEvent:t,dropzone:e}){const n=t.source.textContent.trim()||t.source.id||"draggable element";const r=e.textContent.trim()||e.id||"droppable element";return`Dropped ${n} into ${r}`}function mn({dragEvent:t,dropzone:e}){const n=t.source.textContent.trim()||t.source.id||"draggable element";const r=e.textContent.trim()||e.id||"droppable element";return`Returned ${n} from ${r}`}const pn={"droppable:dropped":gn,"droppable:returned":mn};const fn={"droppable:active":"draggable-dropzone--active","droppable:occupied":"draggable-dropzone--occupied"};const vn={dropzone:".draggable-droppable"};class bn extends(null&&Draggable){constructor(t=[],e={}){super(t,{...vn,...e,classes:{...fn,...e.classes||{}},announcements:{...pn,...e.announcements||{}}});this.dropzones=null;this.lastDropzone=null;this.initialDropzone=null;this[on]=this[on].bind(this);this[an]=this[an].bind(this);this[ln]=this[ln].bind(this);this.on("drag:start",this[on]).on("drag:move",this[an]).on("drag:stop",this[ln])}destroy(){super.destroy();this.off("drag:start",this[on]).off("drag:move",this[an]).off("drag:stop",this[ln])}[on](t){if(t.canceled()){return}this.dropzones=[...this[un]()];const e=closest(t.sensorEvent.target,this.options.dropzone);if(!e){t.cancel();return}const n=new DroppableStartEvent({dragEvent:t,dropzone:e});this.trigger(n);if(n.canceled()){t.cancel();return}this.initialDropzone=e;for(const r of this.dropzones){if(r.classList.contains(this.getClassNameFor("droppable:occupied"))){continue}r.classList.add(...this.getClassNamesFor("droppable:active"))}}[an](t){if(t.canceled()){return}const e=this[dn](t.sensorEvent.target);const n=e&&!e.classList.contains(this.getClassNameFor("droppable:occupied"));if(n&&this[cn](t,e)){this.lastDropzone=e}else if((!e||e===this.initialDropzone)&&this.lastDropzone){this[hn](t);this.lastDropzone=null}}[ln](t){const e=new DroppableStopEvent({dragEvent:t,dropzone:this.lastDropzone||this.initialDropzone});this.trigger(e);const n=this.getClassNamesFor("droppable:occupied");for(const r of this.dropzones){r.classList.remove(...this.getClassNamesFor("droppable:active"))}if(this.lastDropzone&&this.lastDropzone!==this.initialDropzone){this.initialDropzone.classList.remove(...n)}this.dropzones=null;this.lastDropzone=null;this.initialDropzone=null}[cn](t,e){const n=new DroppableDroppedEvent({dragEvent:t,dropzone:e});this.trigger(n);if(n.canceled()){return false}const r=this.getClassNamesFor("droppable:occupied");if(this.lastDropzone){this.lastDropzone.classList.remove(...r)}e.appendChild(t.source);e.classList.add(...r);return true}[hn](t){const e=new DroppableReturnedEvent({dragEvent:t,dropzone:this.lastDropzone});this.trigger(e);if(e.canceled()){return}this.initialDropzone.appendChild(t.source);this.lastDropzone.classList.remove(...this.getClassNamesFor("droppable:occupied"))}[dn](t){if(!this.dropzones){return null}return closest(t,this.dropzones)}[un](){const t=this.options.dropzone;if(typeof t==="string"){return document.querySelectorAll(t)}else if(t instanceof NodeList||t instanceof Array){return t}else if(typeof t==="function"){return t()}else{return[]}}}class En extends r{get dragEvent(){return this.data.dragEvent}}En.type="swappable";class yn extends En{}yn.type="swappable:start";yn.cancelable=true;class Cn extends En{get over(){return this.data.over}get overContainer(){return this.data.overContainer}}Cn.type="swappable:swap";Cn.cancelable=true;class Sn extends En{get swappedElement(){return this.data.swappedElement}}Sn.type="swappable:swapped";class wn extends En{}wn.type="swappable:stop";const xn=Symbol("onDragStart");const Dn=Symbol("onDragOver");const Ln=Symbol("onDragStop");function On({dragEvent:t,swappedElement:e}){const n=t.source.textContent.trim()||t.source.id||"swappable element";const r=e.textContent.trim()||e.id||"swappable element";return`Swapped ${n} with ${r}`}const Fn={"swappabled:swapped":On};class Xn extends Ze{constructor(t=[],e={}){super(t,{...e,announcements:{...Fn,...e.announcements||{}}});this.lastOver=null;this[xn]=this[xn].bind(this);this[Dn]=this[Dn].bind(this);this[Ln]=this[Ln].bind(this);this.on("drag:start",this[xn]).on("drag:over",this[Dn]).on("drag:stop",this[Ln])}destroy(){super.destroy();this.off("drag:start",this._onDragStart).off("drag:over",this._onDragOver).off("drag:stop",this._onDragStop)}[xn](t){const e=new yn({dragEvent:t});this.trigger(e);if(e.canceled()){t.cancel()}}[Dn](t){if(t.over===t.originalSource||t.over===t.source||t.canceled()){return}const e=new Cn({dragEvent:t,over:t.over,overContainer:t.overContainer});this.trigger(e);if(e.canceled()){return}if(this.lastOver&&this.lastOver!==t.over){Mn(this.lastOver,t.source)}if(this.lastOver===t.over){this.lastOver=null}else{this.lastOver=t.over}Mn(t.source,t.over);const n=new Sn({dragEvent:t,swappedElement:t.over});this.trigger(n)}[Ln](t){const e=new wn({dragEvent:t});this.trigger(e);this.lastOver=null}}function Yn(t){const e=document.createElement("div");t(e);e.remove()}function Mn(t,e){const n=e.parentNode;const r=t.parentNode;Yn((s=>{r.insertBefore(s,t);n.insertBefore(t,e);r.insertBefore(e,s)}))}class Tn extends r{get dragEvent(){return this.data.dragEvent}}Tn.type="sortable";class An extends Tn{get startIndex(){return this.data.startIndex}get startContainer(){return this.data.startContainer}}An.type="sortable:start";An.cancelable=true;class Nn extends Tn{get currentIndex(){return this.data.currentIndex}get over(){return this.data.over}get overContainer(){return this.data.dragEvent.overContainer}}Nn.type="sortable:sort";Nn.cancelable=true;class Pn extends Tn{get oldIndex(){return this.data.oldIndex}get newIndex(){return this.data.newIndex}get oldContainer(){return this.data.oldContainer}get newContainer(){return this.data.newContainer}}Pn.type="sortable:sorted";class zn extends Tn{get oldIndex(){return this.data.oldIndex}get newIndex(){return this.data.newIndex}get oldContainer(){return this.data.oldContainer}get newContainer(){return this.data.newContainer}}zn.type="sortable:stop";const In=Symbol("onDragStart");const $n=Symbol("onDragOverContainer");const kn=Symbol("onDragOver");const qn=Symbol("onDragStop");function Bn({dragEvent:t}){const e=t.source.textContent.trim()||t.source.id||"sortable element";if(t.over){const n=t.over.textContent.trim()||t.over.id||"sortable element";const r=t.source.compareDocumentPosition(t.over)&Node.DOCUMENT_POSITION_FOLLOWING;if(r){return`Placed ${e} after ${n}`}else{return`Placed ${e} before ${n}`}}else{return`Placed ${e} into a different container`}}const Hn={"sortable:sorted":Bn};class Rn extends(null&&Draggable){constructor(t=[],e={}){super(t,{...e,announcements:{...Hn,...e.announcements||{}}});this.startIndex=null;this.startContainer=null;this[In]=this[In].bind(this);this[$n]=this[$n].bind(this);this[kn]=this[kn].bind(this);this[qn]=this[qn].bind(this);this.on("drag:start",this[In]).on("drag:over:container",this[$n]).on("drag:over",this[kn]).on("drag:stop",this[qn])}destroy(){super.destroy();this.off("drag:start",this[In]).off("drag:over:container",this[$n]).off("drag:over",this[kn]).off("drag:stop",this[qn])}index(t){return this.getSortableElementsForContainer(t.parentNode).indexOf(t)}getSortableElementsForContainer(t){const e=t.querySelectorAll(this.options.draggable);return[...e].filter((e=>e!==this.originalSource&&e!==this.mirror&&e.parentNode===t))}[In](t){this.startContainer=t.source.parentNode;this.startIndex=this.index(t.source);const e=new SortableStartEvent({dragEvent:t,startIndex:this.startIndex,startContainer:this.startContainer});this.trigger(e);if(e.canceled()){t.cancel()}}[$n](t){if(t.canceled()){return}const{source:e,over:n,overContainer:r}=t;const s=this.index(e);const i=new SortableSortEvent({dragEvent:t,currentIndex:s,source:e,over:n});this.trigger(i);if(i.canceled()){return}const o=this.getSortableElementsForContainer(r);const a=Wn({source:e,over:n,overContainer:r,children:o});if(!a){return}const{oldContainer:l,newContainer:c}=a;const h=this.index(t.source);const d=new SortableSortedEvent({dragEvent:t,oldIndex:s,newIndex:h,oldContainer:l,newContainer:c});this.trigger(d)}[kn](t){if(t.over===t.originalSource||t.over===t.source){return}const{source:e,over:n,overContainer:r}=t;const s=this.index(e);const i=new SortableSortEvent({dragEvent:t,currentIndex:s,source:e,over:n});this.trigger(i);if(i.canceled()){return}const o=this.getDraggableElementsForContainer(r);const a=Wn({source:e,over:n,overContainer:r,children:o});if(!a){return}const{oldContainer:l,newContainer:c}=a;const h=this.index(e);const d=new SortableSortedEvent({dragEvent:t,oldIndex:s,newIndex:h,oldContainer:l,newContainer:c});this.trigger(d)}[qn](t){const e=new SortableStopEvent({dragEvent:t,oldIndex:this.startIndex,newIndex:this.index(t.source),oldContainer:this.startContainer,newContainer:t.source.parentNode});this.trigger(e);this.startIndex=null;this.startContainer=null}}function Un(t){return Array.prototype.indexOf.call(t.parentNode.children,t)}function Wn({source:t,over:e,overContainer:n,children:r}){const s=!r.length;const i=t.parentNode!==n;const o=e&&t.parentNode===e.parentNode;if(s){return jn(t,n)}else if(o){return _n(t,e)}else if(i){return Vn(t,e,n)}else{return null}}function jn(t,e){const n=t.parentNode;e.appendChild(t);return{oldContainer:n,newContainer:e}}function _n(t,e){const n=Un(t);const r=Un(e);if(n<r){t.parentNode.insertBefore(t,e.nextElementSibling)}else{t.parentNode.insertBefore(t,e)}return{oldContainer:t.parentNode,newContainer:t.parentNode}}function Vn(t,e,n){const r=t.parentNode;if(e){e.parentNode.insertBefore(t,e)}else{n.appendChild(t)}return{oldContainer:r,newContainer:t.parentNode}}}}]);